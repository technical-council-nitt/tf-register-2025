import{j as e}from"./ui-DtQK8oIH.js";import{r as s}from"./vendor-DTE74Mn0.js";import{c as m,a as T,B as o,s as h}from"./supabase-BUPhfWfK.js";import{N as A}from"./Navbar-Dq13oUst.js";import{L as C}from"./loader-circle-DnYZ73mE.js";import{A as n}from"./arrow-up-right-D76Fi3uM.js";import"./supabase-BBSrB3Yz.js";import"./check-CM7pYQ67.js";const I=T("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),p=s.forwardRef(({className:r,variant:a,...l},c)=>e.jsx("div",{ref:c,role:"alert",className:m(I({variant:a}),r),...l}));p.displayName="Alert";const R=s.forwardRef(({className:r,...a},l)=>e.jsx("h5",{ref:l,className:m("mb-1 font-medium leading-none tracking-tight",r),...a}));R.displayName="AlertTitle";const w=s.forwardRef(({className:r,...a},l)=>e.jsx("div",{ref:l,className:m("text-sm [&_p]:leading-relaxed",r),...a}));w.displayName="AlertDescription";const J=()=>{const[r,a]=s.useState(!1),[l,c]=s.useState(!1),[b,j]=s.useState(void 0),[f,N]=s.useState(void 0),[x]=s.useState(null),[v,i]=s.useState(!0),[y,k]=s.useState(!1);return s.useEffect(()=>{i(!0),(async()=>{const{data:{user:d},error:u}=await h.auth.getUser();if(u){console.error(u),i(!1);return}const{data:t,error:g}=await h.from("users").select("*").eq("user_id",d==null?void 0:d.id).single();if(g){console.error(g),i(!1);return}a(!0),j(t==null?void 0:t.name),c(!!(t!=null&&t.team_id)),N(t==null?void 0:t.team_id),k(!!(t!=null&&t.roll_number)),t!=null&&t.roll_number||(window.location.href="/profile"),i(!1)})()},[]),v?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[e.jsx(C,{className:"w-12 h-12 animate-spin mb-4"}),e.jsx("p",{className:"text-xl"})]}):e.jsxs("div",{className:"flex flex-col min-h-screen bg-black text-white",children:[r&&e.jsx(A,{userName:b}),e.jsx("main",{className:"flex-grow flex flex-col justify-center items-center px-4 md:px-6",children:e.jsxs("div",{className:"w-full max-w-md space-y-6 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Welcome to TransfiNITTe"}),e.jsx("p",{className:"text-sm md:text-base",children:"Get ready for TransfiNITTe 2025 Hackathon. Join a team or create your own to participate!"}),x&&e.jsx(p,{className:"bg-red-500 text-white p-4 rounded-lg",children:e.jsx(w,{children:x})}),r?y?l&&f?e.jsxs(o,{className:"w-full py-3 bg-white text-black rounded-lg font-bold hover:bg-gray-200 transition duration-300 flex items-center justify-center gap-2",onClick:()=>window.location.href=`/team/${f}`,children:[e.jsx("span",{children:"View Dashboard"}),e.jsx(n,{className:"h-5 w-5"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{className:"w-full py-3 bg-white text-black rounded-lg font-bold hover:bg-gray-200 transition duration-300 flex items-center justify-center gap-2",onClick:()=>window.location.href="/create-team",children:[e.jsx("span",{children:"Create Team"}),e.jsx(n,{className:"h-5 w-5"})]}),e.jsxs(o,{className:"w-full py-3 bg-white text-black rounded-lg font-bold hover:bg-gray-200 transition duration-300 flex items-center justify-center gap-2",onClick:()=>window.location.href="/join-team",children:[e.jsx("span",{children:"Join Team"}),e.jsx(n,{className:"h-5 w-5"})]})]}):e.jsxs(o,{className:"w-full py-3 bg-white text-black rounded-lg font-bold hover:bg-gray-200 transition duration-300 flex items-center justify-center gap-2",onClick:()=>window.location.href="/profile",children:[e.jsx("span",{children:"Complete Your Profile"}),e.jsx(n,{className:"h-5 w-5"})]}):e.jsxs(o,{className:"w-full py-3 bg-white text-black rounded-lg font-bold hover:bg-gray-200 transition duration-300 flex items-center justify-center gap-2",onClick:()=>window.location.href="/login",children:[e.jsx("span",{children:"Login"}),e.jsx(n,{className:"h-5 w-5"})]})]})})]})};export{J as default};
