const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WaterDropGrid-BCXaBNTw.js","assets/ui-DtsVk1ZT.js","assets/vendor-DTE74Mn0.js","assets/spline-BeyKEpbh.js","assets/supabase-BBSrB3Yz.js","assets/animations-BNELU3II.js"])))=>i.map(i=>d[i]);
import{_ as z}from"./supabase-BBSrB3Yz.js";import{j as e,P as G,S as H,R as O,V as K,T as w,I as W,a as J,C as v,b as Q,c as F,d as X,e as Y,f as E,g as I,L as C,h as R}from"./ui-DtsVk1ZT.js";import{r as d}from"./vendor-DTE74Mn0.js";import{o as Z,r as ee,a as re,F as se,C as te,u as ae,b as oe,c as le,s as g}from"./forms-CqHNN3nz.js";import{b as S,c as u,a as ne,B as ie,s as y}from"./supabase-DlqSYPSw.js";import{I as j}from"./input-CNjjZS5Y.js";import{C as de}from"./check-C9iSlceZ.js";import{L as me}from"./loader-circle-B5g_8GOJ.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=S("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=S("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var ue=function(s,a){for(var r={};s.length;){var o=s[0],i=o.code,m=o.message,t=o.path.join(".");if(!r[t])if("unionErrors"in o){var n=o.unionErrors[0].errors[0];r[t]={message:n.message,type:n.code}}else r[t]={message:m,type:i};if("unionErrors"in o&&o.unionErrors.forEach(function($){return $.errors.forEach(function(D){return s.push(D)})}),a){var c=r[t].types,l=c&&c[o.code];r[t]=re(t,a,r,i,l?[].concat(l,o.message):o.message)}s.shift()}return r},xe=function(s,a,r){return r===void 0&&(r={}),function(o,i,m){try{return Promise.resolve(function(t,n){try{var c=Promise.resolve(s[r.mode==="sync"?"parse":"parseAsync"](o,a)).then(function(l){return m.shouldUseNativeValidation&&Z({},m),{errors:{},values:r.raw?o:l}})}catch(l){return n(l)}return c&&c.then?c.then(void 0,n):c}(0,function(t){if(function(n){return Array.isArray(n==null?void 0:n.errors)}(t))return{values:{},errors:ee(ue(t.errors,!m.shouldUseNativeValidation&&m.criteriaMode==="all"),m)};throw t}))}catch(t){return Promise.reject(t)}}},fe="Label",L=d.forwardRef((s,a)=>e.jsx(G.label,{...s,ref:a,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=s.onMouseDown)==null||i.call(s,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));L.displayName=fe;var P=L;const he=ne("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_=d.forwardRef(({className:s,...a},r)=>e.jsx(P,{ref:r,className:u(he(),s),...a}));_.displayName=P.displayName;const pe=se,M=d.createContext({}),b=({...s})=>e.jsx(M.Provider,{value:{name:s.name},children:e.jsx(te,{...s})}),N=()=>{const s=d.useContext(M),a=d.useContext(V),{getFieldState:r,formState:o}=ae(),i=r(s.name,o);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:m}=a;return{id:m,name:s.name,formItemId:`${m}-form-item`,formDescriptionId:`${m}-form-item-description`,formMessageId:`${m}-form-item-message`,...i}},V=d.createContext({}),x=d.forwardRef(({className:s,...a},r)=>{const o=d.useId();return e.jsx(V.Provider,{value:{id:o},children:e.jsx("div",{ref:r,className:u("space-y-2",s),...a})})});x.displayName="FormItem";const f=d.forwardRef(({className:s,...a},r)=>{const{error:o,formItemId:i}=N();return e.jsx(_,{ref:r,className:u(o&&"text-destructive",s),htmlFor:i,...a})});f.displayName="FormLabel";const h=d.forwardRef(({...s},a)=>{const{error:r,formItemId:o,formDescriptionId:i,formMessageId:m}=N();return e.jsx(H,{ref:a,id:o,"aria-describedby":r?`${i} ${m}`:`${i}`,"aria-invalid":!!r,...s})});h.displayName="FormControl";const ge=d.forwardRef(({className:s,...a},r)=>{const{formDescriptionId:o}=N();return e.jsx("p",{ref:r,id:o,className:u("text-sm text-muted-foreground",s),...a})});ge.displayName="FormDescription";const p=d.forwardRef(({className:s,children:a,...r},o)=>{const{error:i,formMessageId:m}=N(),t=i?String(i==null?void 0:i.message):a;return t?e.jsx("p",{ref:o,id:m,className:u("text-sm font-medium text-destructive",s),...r,children:t}):null});p.displayName="FormMessage";const be=O,je=K,T=d.forwardRef(({className:s,children:a,...r},o)=>e.jsxs(w,{ref:o,className:u("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[a,e.jsx(W,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 opacity-50"})})]}));T.displayName=w.displayName;const U=d.forwardRef(({className:s,...a},r)=>e.jsx(E,{ref:r,className:u("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(ce,{className:"h-4 w-4"})}));U.displayName=E.displayName;const B=d.forwardRef(({className:s,...a},r)=>e.jsx(I,{ref:r,className:u("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(k,{className:"h-4 w-4"})}));B.displayName=I.displayName;const q=d.forwardRef(({className:s,children:a,position:r="popper",...o},i)=>e.jsx(J,{children:e.jsxs(v,{ref:i,className:u("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...o,children:[e.jsx(U,{}),e.jsx(Q,{className:u("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(B,{})]})}));q.displayName=v.displayName;const ye=d.forwardRef(({className:s,...a},r)=>e.jsx(C,{ref:r,className:u("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a}));ye.displayName=C.displayName;const A=d.forwardRef(({className:s,children:a,...r},o)=>e.jsxs(F,{ref:o,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(X,{children:e.jsx(de,{className:"h-4 w-4"})})}),e.jsx(Y,{children:a})]}));A.displayName=F.displayName;const Ne=d.forwardRef(({className:s,...a},r)=>e.jsx(R,{ref:r,className:u("-mx-1 my-1 h-px bg-muted",s),...a}));Ne.displayName=R.displayName;const we=d.lazy(()=>z(()=>import("./WaterDropGrid-BCXaBNTw.js"),__vite__mapDeps([0,1,2,3,4,5]))),ve=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Others"}],Fe=le({name:g().min(1,"Full Name is required"),rollNumber:g().length(9,"Roll Number must be exactly 9 digits").regex(/^\d+$/,"Roll Number must contain only digits"),personalEmail:g().email("Invalid email address"),hostel:g().nonempty("Hostel is required"),gender:g().nonempty("Gender is required"),mess:g().nonempty("Mess is required")}),_e=()=>{const[s,a]=d.useState(null),[r,o]=d.useState(!0),i=oe({resolver:xe(Fe),defaultValues:{name:"",rollNumber:"",personalEmail:"",hostel:"",gender:"",mess:""}});d.useEffect(()=>{(async()=>{try{const{data:{user:n},error:c}=await y.auth.getUser();if(c){console.error("Error fetching user details:",c),window.location.href="/login";return}const{data:l}=await y.from("users").select("*").eq("user_id",n==null?void 0:n.id).single();l&&(a(l),i.reset({name:(l==null?void 0:l.name)||"",rollNumber:(l==null?void 0:l.roll_number)||"",personalEmail:(l==null?void 0:l.email)||"",hostel:(l==null?void 0:l.hostel)||"",gender:(l==null?void 0:l.gender)||"",mess:(l==null?void 0:l.mess)||""})),o(!1)}catch(n){console.error("Error fetching user details:",n),o(!1)}})()},[i]);const m=async t=>{try{const{data:{user:n},error:c}=await y.auth.getUser();if(c){console.error("Error fetching user details:",c);return}const{error:l}=await y.from("users").update({user_id:n==null?void 0:n.id,name:t.name,roll_number:t.rollNumber,email:t.personalEmail,hostel:t.hostel,mess:t.mess,gender:t.gender}).eq("user_id",n==null?void 0:n.id);if(l){console.error("Error updating user details:",l);return}window.location.href="/"}catch(n){console.error("Error submitting the form:",n)}};return r?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[e.jsx(me,{className:"w-12 h-12 animate-spin mb-4"}),e.jsx("p",{className:"text-xl"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"flex justify-between bg-black items-center p-[15px] md:p-4 border-b-[1px] border-neutral-800",children:[e.jsx("img",{src:"/motif2.svg",alt:"Logo",style:{width:"40px",aspectRatio:"63 / 29"},className:"md:hidden block"}),e.jsx("img",{src:"/motif-desk2.svg",alt:"Logo",style:{width:"120px",aspectRatio:"155 / 20"},className:"md:block hidden"}),e.jsx("img",{src:"/register.svg",alt:"Logo",style:{width:"110px",aspectRatio:"96 / 20"}})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"bg-white w-full md:block hidden overflow-hidden",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})}),children:e.jsx(we,{})})}),e.jsxs("div",{className:"flex flex-col w-full justify-center items-center min-h-screen bg-black p-4",children:[e.jsxs("div",{className:"flex self-start ml-4 mb-2 cursor-pointer",children:[e.jsx("img",{src:"/left-arrow.svg",alt:"Logo",style:{width:"15px",aspectRatio:"13 / 10"}}),e.jsx("a",{href:"/",className:"text-neutral-500 text-sm self-center pl-2 hover:text-white transition-[1s]",children:"GO BACK"})]}),e.jsx("h1",{className:"md:text-2xl text-3xl ml-8 mb-4 text-white md:text-left w-full text-left",children:"Complete your Application"}),e.jsxs("p",{className:"md:text-xs mb-4 ml-4 text-left md:text-sm text-white",children:["Please enter your details to attend TransfiNITTe 2025 Hackathon. By entering your information, you acknowledge you have read our ",e.jsx("a",{href:"/rulebook",className:"underline underline-offset-4",children:"Rulebook"}),"."]}),e.jsx(pe,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(m),className:"text-white p-6 rounded-lg shadow-md w-full space-y-2",children:[e.jsx(b,{name:"name",render:({field:t})=>e.jsxs(x,{children:[e.jsx(f,{children:"Full Name"}),e.jsx(h,{children:e.jsx(j,{type:"text",placeholder:"Full Name",...t,className:"bg-[#1a1a1a] border border-gray-600 mt-0 rounded-md p-2"})}),e.jsx(p,{className:"text-red-500"})]})}),e.jsx(b,{name:"rollNumber",render:({field:t})=>e.jsxs(x,{children:[e.jsx(f,{children:"Roll Number"}),e.jsx(h,{children:e.jsx(j,{type:"text",placeholder:"Enter Roll Number",...t,className:"bg-[#1a1a1a] border mt-0 border-gray-600 rounded-md p-2"})}),e.jsx(p,{className:"text-red-500"})]})}),e.jsx(b,{name:"personalEmail",render:({field:t})=>e.jsxs(x,{children:[e.jsx(f,{children:"Personal Email"}),e.jsx(h,{children:e.jsx(j,{type:"email",placeholder:"Enter your personal email",...t,className:"bg-[#1a1a1a] mt-0 border border-gray-600 rounded-md p-2",disabled:!0})}),e.jsx(p,{className:"text-red-500"})]})}),e.jsx(b,{name:"hostel",render:({field:t})=>e.jsxs(x,{children:[e.jsx(f,{children:"Hostel"}),e.jsx(h,{children:e.jsx(j,{type:"text",placeholder:"Enter your hostel name",...t,className:"bg-[#1a1a1a] mt-0 border border-gray-600 rounded-md p-2"})}),e.jsx(p,{className:"text-red-500"})]})}),e.jsx(b,{name:"mess",render:({field:t})=>e.jsxs(x,{children:[e.jsx(f,{children:"Mess"}),e.jsx(h,{children:e.jsx(j,{type:"text",placeholder:"Enter your Mess name",...t,className:"bg-[#1a1a1a] border mt-0 border-gray-600 rounded-md p-2"})}),e.jsx(p,{className:"text-red-500"})]})}),e.jsx(b,{name:"gender",render:({field:t})=>e.jsxs(x,{children:[e.jsx(f,{children:"Gender"}),e.jsx(h,{children:e.jsxs(be,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(T,{className:"bg-[#1a1a1a] border border-gray-600 rounded-md",children:e.jsx(je,{placeholder:"Select Gender"})}),e.jsx(q,{children:ve.map(n=>e.jsx(A,{value:n.value,children:n.label},n.value))})]})}),e.jsx(p,{className:"text-red-500"})]})}),e.jsx("div",{className:"w-full flex md:flex-row-reverse",children:e.jsx(ie,{type:"submit",className:"md:px-16 md:w-auto mt-4 w-full py-4 px-4 bg-white text-black rounded-lg font-bold hover:bg-gray-300 transition duration-300",children:"Proceed"})})]})})]})]})]})};export{_e as default};
